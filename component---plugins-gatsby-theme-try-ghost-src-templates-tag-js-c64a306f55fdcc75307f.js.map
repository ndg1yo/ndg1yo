{"version":3,"sources":["webpack://gatsby-starter-try-ghost/./plugins/gatsby-theme-try-ghost/src/templates/tag.js"],"names":["data","location","pageContext","tag","ghostTag","posts","allGhostPost","edges","g","type","render","overlay","tags","header","numberOfPosts","totalPosts","globalState"],"mappings":"sMA6CA,UA7BY,SAAC,GAAqC,IAAnCA,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YACrBC,EAAMH,EAAKI,SACXC,EAAQL,EAAKM,aAAaC,MAEhC,OACI,wBAAC,aAAD,MAA+B,SAAAC,GAAC,OAC5B,wBAAC,mBAAD,KACI,wBAAC,IAAD,CAAUR,KAAMA,EAAMC,SAAUA,EAAUQ,KAAK,WAC/C,wBAAC,KAAD,CAAkBC,OAAS,SAAAC,GAAO,OAC9B,wBAAC,KAAD,CAAQC,KAAM,CAACT,GAAMQ,QAASA,EAC1BE,OAAQ,wBAAC,KAAD,CAAWF,QAASA,EAASR,IAAKA,EAAKW,cAAeZ,EAAYa,cAC1E,wBAAC,KAAD,CAAUC,YAAaR,EAAGN,YAAaA,EAAaG,MAAOA","file":"component---plugins-gatsby-theme-try-ghost-src-templates-tag-js-c64a306f55fdcc75307f.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { graphql } from 'gatsby'\n\nimport { HeaderTag, Layout, PostView } from '../components/common'\nimport { OverlayContainer } from '../components/common/effects'\nimport { MetaData } from '../components/common/meta'\n\nimport { GlobalStateContext } from \"../context/GlobalState\"\n\n/**\n* Tag page (/tag/:slug)\n*\n* Loads all posts for the requested tag incl. pagination.\n*\n*/\nconst Tag = ({ data, location, pageContext }) => {\n    const tag = data.ghostTag\n    const posts = data.allGhostPost.edges\n\n    return (\n        <GlobalStateContext.Consumer>{ g => (\n            <React.Fragment>\n                <MetaData data={data} location={location} type=\"series\"/>\n                <OverlayContainer render={ overlay => (\n                    <Layout tags={[tag]} overlay={overlay}\n                        header={<HeaderTag overlay={overlay} tag={tag} numberOfPosts={pageContext.totalPosts} />}>\n                        <PostView globalState={g} pageContext={pageContext} posts={posts} />\n                    </Layout>\n                )}/>\n            </React.Fragment>\n        )}\n        </GlobalStateContext.Consumer>\n    )\n}\n\nTag.propTypes = {\n    data: PropTypes.shape({\n        ghostTag: PropTypes.object.isRequired,\n        allGhostPost: PropTypes.object.isRequired,\n    }).isRequired,\n    location: PropTypes.object.isRequired,\n    pageContext: PropTypes.object.isRequired,\n}\n\nexport default Tag\n\nexport const pageQuery = graphql`\n    query GhostTagQuery($postIds: [String!]!, $slug: String!, $limit: Int!, $skip: Int!) {\n        ghostTag(slug: { eq: $slug }) {\n            ...GhostTagFields\n        }\n        allGhostPost(\n            filter: {id: { in: $postIds }, tags: {elemMatch: {slug: {eq: $slug}}}},\n            limit: $limit,\n            skip: $skip,\n            sort: { fields: [featured, published_at], order: [DESC, DESC] }\n        ) {\n            edges {\n                node {\n                ...GhostPostFieldsForIndex\n                }\n            }\n        }\n    }\n`\n"],"sourceRoot":""}